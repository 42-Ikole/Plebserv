<!DOCTYPE html>
<html>
<head>
  <title>Phantom Coin</title>
  <meta charset="UTF-8">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <link rel="stylesheet" type="text/css" href="/Assets/Css/css main ptc.css">
  <link href="https://fonts.googleapis.com/css?family=Bentham|Playfair+Display|Raleway:400,500|Suranna|Trocchi" rel="stylesheet">
  <meta name="google-signin-client_id" content="615125774410-cmsh7prcupda2u8sqiag23ail6jlmjmd.apps.googleusercontent.com">
  <script src="https://apis.google.com/js/platform.js" async defer></script>
  <link rel="icon" href="/Assets/Media/pb.png">
  <script type="text/javascript" src="/Assets/Scripts/linkscoin.js"></script>
  <script type="text/javascript" src="/Assets/Scripts/signin.js"></script>
  <script type="text/javascript" src="/Assets/Scripts/global.js"></script>
  
</head>
<body id="body" style="background-color:#eaeaea; "><div class="topnav" id="myTopnav">
  <a class="topnav-context" id ="logo" onclick="NewPage(011)"><img id ="logo" src="\Assets\Media/p.png" width="20" height="20" alt="logo">  | Phantom</a>
  <!--<a class="topnav-context" id="logo" href="#Home">| Phantom</a>-->
  <a class="topnav-context" onclick="myprofile()" id="profheader"> My Profile</a>
  <a class="topnav-context" href="#" >|</a>
  <a class="topnav-context">About</a>
</div>
<div id="profileoverlay">
  <div id="profilename">
     <h3 class="USER_NAME">My Profile</h3>
  </div>
  <hr>
  <div style="margin-left: 10%">
  <div class="profiletab"><p> My profile </p> </div>
  <div class="profiletab" onclick="signOut()"><p> Log out </p> </div>
  <div class="profiletab"><p> About </p></div>
  </div>
</div>
<div class="overlaynav-spine">
  <nav class="navigation">
    <ul class="mainmenu">
      <li><a class="overlay-sidebar" href="javascript:void(0)" onclick="NewPage(001)">HOME</a></li>
      <li><a class="overlay-sidebar" href="javascript:void(0)" onclick="NewPage(002)">SEND / RECIEVE</a></li>
      <li><a class="overlay-sidebar" href="javascript:void(0)" onclick="NewPage(003)">ACCOUNT</a>
      <li><a class="overlay-sidebar" href="javascript:void(0)" onclick="NewPage(004)">BUY / SELL</a></li>
      <li><a class="overlay-sidebar" href="javascript:void(0)" onclick="NewPage(005)">MY PROFILE</a></li>
      <li><a class="overlay-sidebar" href="javascript:void(0)" onclick="NewPage(006)">DEVELOPER</a></li>
    </ul>
  </nav>
</div>
<!--Mainbox and stuff xx -->
<div class="phantomcoinheader">
  <h1 class="mainheader left">Ƥ | PHANTOMCOIN</h1>
  <h2 class="mainheader right" id="h2header"> BALANCE : <span>6.238 Ƥ</span></h2>
</div>
<div class="mainbox" id="mainbox">
  <div id="title">
    <h1 class="phanthomcointitle">Accounts</h1>
    <hr>
  </div>
  <div id="accountcards">
    <div class="accountcard" onclick="OpenAccount('OA1')"> 
        <p style="float: left;" class="cardtext">Online Account 1</p>
        <p style="float: right;" class="cardtext"><b>4.114 Ƥ</b></p>
    </div>
    <div class="accountcard" onclick="OpenAccount('LA1')"> 
        <p style="float: left;" class="cardtext">Local Account 1</p>
        <p style="float: right;" class="cardtext"><b>2.124 Ƥ</b></p>
    </div>
    <div class="accountcard" onclick="NewAccount()"> 
        <p style="float: left;" class="cardtext">New Account</p>
        <p style="float: right;" class="cardtext"><b>+</b></p>
    </div>
  </div>
<!--opens your account xx-->
  <div id="accountdisplay">
    <div id="accountdetailsdiv">
    </div>
    <p id="loadingp">Loading..</p>
      <table style="width: 100%" id="table"></table>
  </div>
    <div style="display: none;">
    <div class="g-signin2" data-onsuccess="onSignIn"></div>
  </div>
</div>


<script type="text/javascript">
  x=document.getElementsByClassName("USER_NAME");  // Find the element
        for(var i = 0; i < x.length; i++){
        x[i].innerText=name;    // Change the content
        }

  x=document.getElementsByClassName("profilepic");  // Find the element
        for(var i = 0; i < x.length; i++){
        x[i].src=img;    // Change the content
        }
  x=document.getElementsByClassName("emailusr");  // Find the element
        for(var i = 0; i < x.length; i++){
        x[i].innerText=email;    // Change the content
        }
  function expand(n) {
    console.log(n)
    var oo = n +'-details';
    console.log(oo)
    document.getElementById(oo).style.display = "block";
  }
  function collapse(n) {
    console.log(n)
    var aa = n +'-details';
    console.log(aa)
    document.getElementById(aa).style.display = "none";
  }
</script>
<script type="text/javascript">
function OpenAccount(n) {
  document.getElementById("loadingp").style.display = 'block';
  document.getElementById("table").style.display = 'none';
  document.getElementById("accountdetailsdiv").style.display = 'none';
$.ajax({
  type : 'GET', 
  url : '../Assets/Data/coin/users/' + id + '/' + n + ".json" ,
  async : true,
  cache: false,
  username: id,
  password: "sooniguess",
  beforeSend : function(){/*loading*/},
  dataType : 'json', 
  success : function(result){
   var buffer="";
   var accountbuffer="";
   var count = 0;
    $.each(result, function(index, val){
      for(var i=0; i < val.length; i++){ 
        var item = val[i]; 
        buffer+=" <tr id='"+item.paymentID+"' onClick = 'expand("+item.paymentID+")'><th href='#"+item.name+"' >"+item.name+"</th><th href='#"+item.command+"'>"+item.command+"</th></tr>";
        buffer+="<tr id='"+item.paymentID+"-details' style='display: none;' onClick = 'collapse("+item.paymentID+")'><td><div><i>Payment ID</i> : "+item.paymentID+"</div> <div><i>Date</i> : "+item.Date+"</div><div><i>Contra account</i> : "+item.ContraAccount+"</div><div><i>Comments</i> : "+item.comments+"</div></td></tr>";
        if (item.name == "Start") {
          console.log("xd")
          accountbuffer+="<h4>Account details</h4><p>&#183; Owner: "+item.accountdata.Owner+"</p><p>&#183; AccountID: "+item.accountdata.AccountID+"</p><p>&#183; MerchantID: "+item.accountdata.MerchantID+"</p><p>&#183; Balance: "+item.accountdata.Balance+"</p> <hr>";
          console.log(accountbuffer)
        }
      }
      document.getElementById("loadingp").style.display = 'none';
      document.getElementById("table").style.display = '';
      document.getElementById("accountdetailsdiv").style.display = '';
      $('table').html(buffer);
      $("div#accountdetailsdiv").html(accountbuffer);
    });
  }
 });
};
</script>
</script>
</body>
</html>